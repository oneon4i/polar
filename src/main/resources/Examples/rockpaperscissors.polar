#                 #
# ÐŸÑ€Ð¸Ð¼ÐµÑ€          #
# ÐšÐ°Ð¼ÐµÐ½ÑŒ, Ð½Ð¾Ð¶Ð½Ð¸Ñ†Ñ‹ #
# Ð±ÑƒÐ¼Ð°Ð³Ð° ðŸª¨ðŸ“œâœ‚ï¸  #
use 'lib.random'

# Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹ #
# 1 - ÐºÐ°Ð¼ÐµÐ½ÑŒ #
# 2 - Ð½Ð¾Ð¶Ð½Ð¸Ñ†Ñ‹ #
# 3 - Ð±ÑƒÐ¼Ð°Ð³Ð° #
possible = [1, 2, 3]
score = 0
bot_score = 0

# Ð˜Ð½Ð¿ÑƒÑ‚ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ #
func user_input() {
    put('Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚:')
    put('1 - ÐºÐ°Ð¼ÐµÐ½ÑŒ ðŸª¨. 2 - Ð½Ð¾Ð¶Ð½Ð¸Ñ†Ñ‹ âœ‚ï¸.')
    put('3 - Ð±ÑƒÐ¼Ð°Ð³Ð° ðŸ“œ.')
    safe {
        val = number(scan('Ð’Ñ‹Ð±Ð¾Ñ€: '))
    } handle(e) {
        put('ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð²Ð²Ð¾Ð´!')
        back(user_input())
    }
    if (val > 3 or val < 1) {
        put('ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð²Ð²Ð¾Ð´!')
    }
    back(val)
}

# Ñ†Ð¸ÐºÐ» #
while (true) {
    # Ð²Ñ‹Ð±Ð¾Ñ€ Ð±Ð¾Ñ‚Ð° Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ #
    chosen = Random.choice(possible)
    input = user_input()
    # Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ #
    if (input == chosen) {
        put('ÐÐ¸Ñ‡ÑŒÑ!')
    }
    # ÐµÑÐ»Ð¸ Ð¸Ð³Ñ€Ð¾Ðº Ð²Ñ‹Ð±Ñ€Ð°Ð» ÐºÐ°Ð¼ÐµÐ½ÑŒ #
    elif (input == 1) {
        if (chosen == 2) {
            put('ÐŸÐ¾Ð±ÐµÐ´Ð°! Ð‘Ð¾Ñ‚ Ð²Ñ‹Ð±Ñ€Ð°Ð» Ð½Ð¾Ð¶Ð½Ð¸Ñ†Ñ‹ âœ‚ï¸')
            score += 1
        }
        elif (chosen == 3) {
            put('ÐŸÑ€Ð¾Ð¸Ð³Ñ‹Ñ€ÑˆÑŒ! Ð‘Ð¾Ñ‚ Ð²Ñ‹Ð±Ñ€Ð°Ð» Ð±ÑƒÐ¼Ð°Ð³Ñƒ ðŸ“œ')
            bot_score += 1
        }
    }
    # ÐµÑÐ»Ð¸ Ð¸Ð³Ñ€Ð¾Ðº Ð²Ñ‹Ð±Ñ€Ð°Ð» Ð½Ð¾Ð¶Ð½Ð¸Ñ†Ñ‹ #
    elif (input == 2) {
        if (chosen == 1) {
            put('ÐŸÑ€Ð¾Ð¸Ð³Ñ€Ñ‹ÑˆÑŒ! Ð‘Ð¾Ñ‚ Ð²Ñ‹Ð±Ñ€Ð°Ð» ÐºÐ°Ð¼ÐµÐ½ÑŒ ðŸª¨')
            bot_score += 1
        }
        elif (chosen == 3) {
            put('ÐŸÐ¾Ð±ÐµÐ´Ð°! Ð‘Ð¾Ñ‚ Ð²Ñ‹Ð±Ñ€Ð°Ð» Ð±ÑƒÐ¼Ð°Ð³Ñƒ ðŸ“œ')
            score += 1
        }
    }
    # ÐµÑÐ»Ð¸ Ð¸Ð³Ñ€Ð¾Ðº Ð²Ñ‹Ð±Ñ€Ð°Ð» Ð±ÑƒÐ¼Ð°Ð³Ñƒ #
    elif (input == 3) {
        if (chosen == 1) {
            put('ÐŸÐ¾Ð±ÐµÐ´Ð°! Ð‘Ð¾Ñ‚ Ð²Ñ‹Ð±Ñ€Ð°Ð» ÐºÐ°Ð¼ÐµÐ½ÑŒ ðŸª¨')
            score += 1
        }
        elif (chosen == 2) {
            put('ÐŸÑ€Ð¾Ð¸Ð³Ñ€Ñ‹ÑˆÑŒ! Ð‘Ð¾Ñ‚ Ð²Ñ‹Ð±Ñ€Ð°Ð» Ð½Ð¾Ð¶Ð½Ð¸Ñ†Ñ‹ ðŸ“œ')
            bot_score += 1
        }
    }
    # Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ð¼ ÑÑ‡Ñ‘Ñ‚ #
    put('#################')
    put('##     Ð¡Ð§ÐÐ¢    ')
    put('## Ð˜Ð“Ð ÐžÐš ðŸ¥¬: ' + string(score))
    put('## Ð‘ÐžÐ¢ ðŸ¤–: ' + string(bot_score))
    put('#################')
}